# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    new                                                :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: ibouabda <ibouabda@student.42.fr>          +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2018/07/27 16:25:46 by exam              #+#    #+#              #
#    Updated: 2019/06/20 13:48:27 by ibouabda         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

#include "libft.h"

char *ft_itoa_base(int value, int base)
{
	long int nb;
	char *base_tab;
	char *nombre;
	unsigned int i;
	unsigned int k;
	unsigned int j;
	char c;
	unsigned int n;

	i = 0;
	k = 0;
	n = 0;
	nb = value;
	base_tab = (char*)malloc(sizeof(char) * 16 + 1);
	base_tab = "0123456789ABCDEF";
	if (nb < 0)
	{
		if (base == 10)
		{
			i++;
			n = 1;
		}
		nb = nb * - 1;
	}
	k = i;
	while (value != 0)
	{
		value = value / 10;
		i++;
	}
	nombre = (char*)malloc(sizeof(char) * i + 1);
	if (k == 1)
		nombre[0] = '-';
	while (nb > 0)
	{
		nombre[k] = base_tab[nb % base];
		nb = nb /base;
		k++;
	}
	i = 0;
	if (n == 1)
		i = 1;
	j = k - 1;
	while (i < k/2)
	{
		c = nombre[i];
		nombre[i] = nombre[j];
		nombre[j] = c;
		i++;
		j--;
	}
	nombre[k] = '\0';
	return (nombre);
}

int main()
{
	ft_putstr(ft_itoa_base(-2147483648, 10));
}